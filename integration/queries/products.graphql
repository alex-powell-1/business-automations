mutation CreateProductWithNewMedia(
  $input: ProductInput!
  $media: [CreateMediaInput!]
) {
  productCreate(input: $input, media: $media) {
    product {
      id
      options(first: 20) {
        id
        optionValues {
          id
        }
      }
      media(first: 40) {
        nodes {
          id
        }
      }
      variants(first: 20) {
        nodes {
          id
          title
          inventoryItem {
            id
          }
        }
      }
    }

    userErrors {
      field
      message
    }
  }
}

mutation productUpdate($input: ProductInput!) {
  productUpdate(input: $input) {
    product {
      id
      options {
        id
        optionValues {
          id
        }
      }
      media(first: 40) {
        nodes {
          id
        }
      }
    }
    userErrors {
      field
      message
    }
  }
}



query product($id: ID!) {
  product(id: $id) {
    collections(first: 5) {
      edges {
        node {
          handle
        }
      }
    }
    createdAt
    defaultCursor
    description
    descriptionHtml
    featuredImage {
      id
    }
    feedback {
      details {
        messages {
          message
        }
      }
    }
    giftCardTemplateSuffix
    handle
    hasOnlyDefaultVariant
    hasOutOfStockVariants
    id
    images(first: 5) {
      edges {
        node {
          id
        }
      }
    }
    inCollection(id: "gid://shopify/Collection/1007901140")
    isGiftCard
    legacyResourceId
    metafield(key: "app_key", namespace: "affiliates") {
      description
    }
    metafields(first: 5) {
      edges {
        node {
          description
        }
      }
    }
    onlineStorePreviewUrl
    onlineStoreUrl
    options {
      name
      optionValues {
        id
        name
      }
    }
    priceRange {
      maxVariantPrice {
        amount
      }
      minVariantPrice {
        amount
      }
    }
    productType
    resourcePublicationsCount {
      count
    }
    availablePublicationsCount {
      count
    }
    publishedAt
    resourcePublications(first: 5) {
      edges {
        node {
          isPublished
        }
      }
    }
    resourcePublicationOnCurrentPublication {
      publication {
        name
        id
      }
      publishDate
      isPublished
    }
    seo {
      title
    }
    storefrontId
    tags
    templateSuffix
    title
    totalInventory
    tracksInventory
    unpublishedPublications(first: 5) {
      edges {
        node {
          name
        }
      }
    }
    updatedAt
    variants(first: 5) {
      edges {
        node {
          id
          displayName
          inventoryItem {
            id
          }
        }
      }
    }
    variantsCount {
      count
    }
    vendor
  }
}

query variantIventoryId($id: ID!) {
  productVariant(id: $id) {
    inventoryItem {
      sku
      id
    }
  }
}

mutation productPublish($input: ProductPublishInput!) {
  productPublish(input: $input) {
    userErrors {
      field
      message
    }
  }
}

mutation publishablePublish($id: ID!, $input: [PublicationInput!]!) {
  publishablePublish(id: $id, input: $input) {
    publishable {
      availablePublicationsCount {
        count
      }
      resourcePublicationsCount {
        count
      }
    }
    shop {
      publicationCount
    }
    userErrors {
      field
      message
    }
  }
}

mutation productUnpublish($input: ProductUnpublishInput!) {
  productUnpublish(input: $input) {
    userErrors {
      field
      message
    }
  }
}