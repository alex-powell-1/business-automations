mutation CreateProductWithNewMedia(
  $input: ProductInput!
  $media: [CreateMediaInput!]
) {
  productCreate(input: $input, media: $media) {
    product {
      id
      options(first: 10) {
        id
        optionValues {
          id
        }
      }
      media(first: 10) {
        nodes {
          id
        }
      }
    }
    userErrors {
      field
      message
    }
  }
}

mutation productVariantCreate($input: ProductVariantInput!) {
  productVariantCreate(input: $input) {
    product {
      id
      title
    }
    productVariant {
      createdAt
      displayName
      id
      inventoryItem {
        unitCost {
          amount
        }
        tracked
      }
      inventoryPolicy
      inventoryQuantity
      price
      product {
        id
      }
      title
    }
    userErrors {
      field
      message
    }
  }
}

mutation productVariantsBulkCreate(
  $productId: ID!
  $variants: [ProductVariantsBulkInput!]!
  $media: [CreateMediaInput!]
) {
  productVariantsBulkCreate(
    productId: $productId
    variants: $variants
    media: $media
  ) {
    product {
      id
      options {
        id
        optionValues {
          id
        }
      }
    }
    productVariants {
      id
    }
    userErrors {
      field
      message
    }
  }
}

mutation productUpdate($input: ProductInput!) {
  productUpdate(input: $input) {
    product {
      id
      options {
        id
        optionValues {
          id
        }
      }
      media(first: 40) {
        nodes {
          id
        }
      }
    }
    userErrors {
      field
      message
    }
  }
}

mutation productVariantsBulkUpdate(
  $productId: ID!
  $variants: [ProductVariantsBulkInput!]!
) {
  productVariantsBulkUpdate(productId: $productId, variants: $variants) {
    product {
      id
      options {
        id
        optionValues {
          id
        }
      }
    }
    productVariants {
      id
    }
    userErrors {
      field
      message
    }
  }
}

mutation productVariantDelete($id: ID!) {
  productVariantDelete(id: $id) {
    deletedProductVariantId
    product {
      id
      title
    }
    userErrors {
      field
      message
    }
  }
}

query product($id: ID!) {
  product(id: $id) {
    collections(first: 5) {
      edges {
        node {
          handle
        }
      }
    }
    createdAt
    defaultCursor
    description
    descriptionHtml
    featuredImage {
      id
    }
    feedback {
      details {
        messages {
          message
        }
      }
    }
    giftCardTemplateSuffix
    handle
    hasOnlyDefaultVariant
    hasOutOfStockVariants
    id
    images(first: 5) {
      edges {
        node {
          id
        }
      }
    }
    inCollection(id: "gid://shopify/Collection/1007901140")
    isGiftCard
    legacyResourceId
    metafield(key: "app_key", namespace: "affiliates") {
      description
    }
    metafields(first: 5) {
      edges {
        node {
          description
        }
      }
    }
    onlineStorePreviewUrl
    onlineStoreUrl
    options {
      name
    }
    priceRange {
      maxVariantPrice {
        amount
      }
      minVariantPrice {
        amount
      }
    }
    productType
    resourcePublicationsCount {
      count
    }
    availablePublicationsCount {
      count
    }
    publishedAt
    resourcePublications(first: 5) {
      edges {
        node {
          isPublished
        }
      }
    }
    resourcePublicationOnCurrentPublication {
      publication {
        name
        id
      }
      publishDate
      isPublished
    }
    seo {
      title
    }
    storefrontId
    tags
    templateSuffix
    title
    totalInventory
    tracksInventory
    unpublishedPublications(first: 5) {
      edges {
        node {
          name
        }
      }
    }
    updatedAt
    variants(first: 5) {
      edges {
        node {
          displayName
        }
      }
    }
    variantsCount {
      count
    }
    vendor
  }
}